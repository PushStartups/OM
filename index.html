<!Doctype html>
<html>
<head>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
    <link href="style/index.css" rel="stylesheet" />

    <script src="script/script.js"></script>
    <script src="js/ajaxServerRequestsIndex.js"></script>
    <script src="js/isMobileCheck.js" type="text/javascript"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-89656592-1', 'auto');
        ga('send', 'pageview');

    </script>


</head>

<script>

    $(document).ready(function() {

        displayAllCities();
    });

</script>


<body>
<nav>
    <ul>
        <li id="about" class="desktop-only"><a href="#">About</a></li>
        <!--<li><a href="#"></a></li>-->
    </ul>
</nav>

<div class="container">
    <div class="center-div">
            <span id="logo">
                <img src="images/logo.png">
                <span> Order App </span>
            </span>

        <p> ORDER SMART <br> ORDER FAST </p>
        <div style="height: 62px; position: relative" >
            <div class="dropdown custom-drop" style="height: 100%" >

                <button class="btn btn-primary dropdown-toggle" style="height: 100%" id="menu1" type="button" data-toggle="dropdown">
                    <span id="text-span"> Choose a city </span>
                    <span class="caret"></span>
                </button>

                <ul  id = 'city_list' class="dropdown-menu" aria-labelledby="items">

                </ul>
                <div id="error-field">
                    *Required field
                </div>

            </div>

            <button class="btn-start" style="height: 100%"  onclick="start_ordering()"> START ORDERING </button>
        </div>
    </div>
</div>

<img class="mobile-bike" src="images/delivery-mobile.png">
<img class="desktop-bike" src="images/delivery-desktop.png">



<div id="popup"  class="aboutMsg" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none">
    <div class="modal-dialog">
        <img  onclick="$('.b-modal').click()"  data-dismiss="modal" style=" outline: none; cursor: pointer; width:50px; padding:13px; margin-bottom:-25px;" src="images/close.png" >
        <div class="modal-dialog gallery_digonal">
            <div class="modal-content">
                <div class="modal-body text-left">

                    <h1 align="center">OrderApp, order fast.</h1>
                    <p>
                        "What's for dinner?"
                        <br>
                        "You choose"
                        <br>
                        "I'll choose, but you're calling in the order"
                        <br>
                        "Ok, never mind. I'll choose, you call"
                        <br>
                        <br>

                        Sound familiar? We all hate making that dreaded 8-10 min takeout call, shouting to be heard over the din of background noise, when all you want to do is order some burgers.
                        <br><br>


                        Enter OrderApp! With a few clicks on your screen you can find a comprehensive list of restaurants in your area that are offering food takeout delivery at any given time. You can choose a restaurant, browse their online menu and then send your order via chat, without having to try and speak to a live human being. Your order for delivery will be recorded in the chat, thereby minimizing the likelihood of the restaurant messing up your order.
                        <br><br>

                        No need to procrastinate and argue over that frustrating phone call any longer. With OrderApp, you can place your online takeout order to be delivered to you with no hassle and no tears.
                        <br><br>
                        <a href="http://download.orderapp.com/">OrderApp Restaurants</a>
                        *Powered by Push Startups
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>
</body>

<script type="text/javascript">

    $(".custom-drop").removeClass("error");
    $("#error-field").hide();


    // EXCEPTION IF USER OBJECT NOT RECEIVED UN-DEFINED
    if(!isCitySelected())
    {

        $('.btn-primary > span#text-span').text('Choose a city');
    }
    else
    {

        // RETRIEVE USER OBJECT RECEIVED FROM PREVIOUS PAGE
        var selectedCityName  = JSON.parse(localStorage.getItem("USER_CITY_NAME"));
        $('.btn-primary > span#text-span').text(selectedCityName);
    }



    // CLICK ON START ORDERING BUTTON
    function start_ordering()
    {
        if( isCitySelected() == true)
        {
            $(".custom-drop").removeClass("error");
            $("#error-field").hide();

            window.location.href =  '/page1.html';
        }
        else
        {
            // THROW ERROR
            $(".custom-drop").addClass("error");
            $("#error-field").show();

        }
    }

    $(function () {

        $('#about').click(function () {

            $('.aboutMsg').bPopup({

                speed: 1050,
                transition: 'slideDown'
            });
        });
    });


</script>
</html>