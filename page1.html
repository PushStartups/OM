<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=false" />
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="img/favicon.png" type="image/gif" sizes="16x16">
    <title>OrderApp</title>


    <!-- CSS -->
    <link href="css/bootstrap.css" rel="stylesheet">
    <link href="css/my-style.css" rel="stylesheet">
    <link href="css/font-awesome.css" rel="stylesheet">
    <link rel="stylesheet" href="css/animate.css">


    <!-- JS -->
    <script src="js/isMobileCheck.js" type="text/javascript"></script>
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/jquery.bpopup.min.js"></script>
    <script type="text/javascript" src="js/jquery.easing.1.3.js"></script>
    <script type="text/javascript" src="js/ajaxServerRequests.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui-touch-punch/0.2.3/jquery.ui.touch-punch.min.js"></script>


    <script type="text/javascript">

        // CLICK LISTENER FOR RESTAURANT TIMINGS POPUP
        $(document).on('click','.slideLeftRight',function()
        {

            // RESTAURANT CLICKED BY USER
            var clickedRestId = $(this).attr('id').replace('timings','');

            // DISPLAY RESTAURANT TIMINGS
            var str = "";
            for(var x=0;x<allRestJson[clickedRestId].timings.length;x++)
            {
                str +=  '<tr class="todays_date_bold">'+
                        '<td>'+allRestJson[clickedRestId].timings[x].week_en+'</td>'+
                        '<td>'+allRestJson[clickedRestId].timings[x].opening_time+'</td>'+
                        '<td>'+allRestJson[clickedRestId].timings[x].closing_time+'</td>'+
                        '</tr>';
            }

            $("#tableBody").html(str);

            // DISPLAY POPUP
            $('.slideLeftRightMsg').bPopup({
                easing: 'easeOutBack', //uses jQuery easing plugin
                speed: 1050,
                transition: 'slideDown'
            });

        });


        // CLICK LISTENER FOR RESTAURANT IMAGES GALLERY
        $(document).on('click','.slideLeftRight1',function(){

            // RESTAURANT CLICKED BY USER
            var clickedRestId = $(this).attr('id').replace('pop','');

            // DISPLAY RESTAURANT GALLERY
            var str = "";

            for(var x=0;x<allRestJson[clickedRestId].gallery.length;x++)
            {
                if(x == 0)
                    str += '<div class="item active gallery_img_cernter_crop"><img  src="'+allRestJson[clickedRestId].gallery[x].url+'"> </div>';

                else
                    str+= '<div class="item gallery_img_cernter_crop"><img alt="item3" src="'+allRestJson[clickedRestId].gallery[x].url+'"> </div>';
            }

            $(".carousel-inner").html(str);


            $('.slideLeftRightMsg1').bPopup({
                easing: 'easeOutBack', //uses jQuery easing plugin
                speed: 1050,
                transition: 'slideDown'
            });
        });

    </script>


    <style type="text/css">

        #popup, .bMulti {
            display: none;
        }

    </style>

</head>

<!--GET ALL RESTAURANTS FROM SERVER -->
<script>

    $(document).ready(function() {

        getMinimumValue();   // GET MINIMUM ORDER VALUE
        getAllRestaurants(); // GET LIST OF ALL RESTAURANTS

    });

</script>

<body>

<img id="loader" class="loader-css" src="img/loader.gif" >

<div style="display: none">

    <input id="preventPullToRefresh" checked type="checkbox">Prevent pull-to-refresh?</input>

</div>

<!--HEADER START -->
<nav class="navbar navbar-default" role="navigation">

    <div class="container nav_container">
        <div class="navbar-header">
            <div class="navbar-brand navbar-brand-centered animate-box fadeInDown animated">
                <img src="img/logo.png" class="img-responsive">
            </div>
        </div>

        <div class="" id="navbar-brand-centered">
            <ul class="nav navbar-nav navbar-right pull-right animate-box fadeInRight animated">
                <li>
                    <a>
                    <!-- href="page1_he.html"-->
                    <span class="navigation-btn" style=" border: 0px">
                         <!--עב-->
                    </span>
                    </a>
                </li>
            </ul>
        </div>
    </div>

    <div class="top_notification">
        <div class="col-lg-12">
            Hungry? Choose a restaurant and order
        </div>
    </div>
</nav>
<!--HEADER END -->



<!--ALL RESTAURANTS -->
<div class="middle_panel">
    <div  id = "restaurantList" class="container middle_panel_padding">
        <div class="accordion" id="accordion2">
        </div>
    </div>
</div>


<!--TIMINGS POPUP-->
<div id="popup" class="slideLeftRightMsg" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="width: 100%; left: 0px;">
    <div class="modal-dialog">
        <img onclick="$('.b-modal').click()"  data-dismiss="modal" style="width:50px; padding:13px; margin-bottom:-10px;" src="img/close.png" >
        <div class="modal-dialog gallery_digonal">
            <div class="modal-content">
                <div class="modal-body text-center">
                    <table class="table" style="margin-bottom:0px; text-align: left">
                        <tbody id="tableBody">
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>




<!--IMAGES GALLERY POPUP-->
<div id="popup" class="slideLeftRightMsg1" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="width: 100%; left: 0px;">
    <div class="modal-dialog">
        <img onclick="$('.b-modal').click()"  data-dismiss="modal" style="width:50px; padding:13px; margin-bottom:-10px;" src="img/close.png" >
        <div class="modal-content gallery_modal_content">
            <div class="modal-body">
                <div class="carousel slide" data-interval="false" id="myCarousel">
                    <div class="carousel-inner">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<script src="js/jquery.mobile.custom.min.js"></script>
<script src="js/bootstrap.js"></script>


<!-- Mobile & Tab device swipe Left and Right Side Start -->
<script>

    $(document).ready(function () {

        $("#myCarousel").swiperight(function () {
            $(this).carousel('prev');
        });

        $("#myCarousel").swipeleft(function () {
            $(this).carousel('next');
        });
    });

</script>
<!-- Mobile & Tab device swipe Left and Right Side End -->


<script type="text/javascript">


    $(document).ready(function () {


        function alignModal()
        {

            var modalDialog = $(this).find(".modal-dialog");

            // Applying the top margin on modal dialog to align it vertically center
            modalDialog.css("margin-top", Math.max(0, ($(window).height() - modalDialog.height()) / 2));
        }

        // Align modal when it is displayed
        $(".modal").on("shown.bs.modal", alignModal);


        // Align modal when user resize the window
        $(window).on("resize", function () {
            $(".modal:visible").each(alignModal);
        });


    });

</script>



<!-- According Script Start -->
<script>

    /**
     * EFECTO PARA FLECHAS EN ACORDEON
     */
    $(document).on('show', '.accordion', function (e) {

        $(e.target).prev('.accordion-heading').addClass('accordion-opened');
    });


    $(document).on('hide', '.accordion', function (e) {
        $(this).find('.accordion-heading').not($(e.target)).removeClass('accordion-opened');
    });


    // SRC

    var lastOpen = null;

    $(function () {

        $(document).on('click','.accordion-toggle',function(){

            var test = $(this);

            $('html, body').animate({
                scrollTop: (test.offset().top - 180)
            }, 500);

            if(lastOpen != null)
            {
                $(lastOpen).collapse('toggle');
            }

            if( $(this).attr('href') != lastOpen) {

                lastOpen = $(this).attr('href');
            }
            else
            {
                lastOpen = null;
            }

        });
    });

    window.addEventListener('load', function() {
        var preventPullToRefreshCheckbox = document.getElementById('preventPullToRefresh');


        var maybePreventPullToRefresh = false;
        var lastTouchY = 0;
        var touchstartHandler = function(e) {
            if (e.touches.length != 1) return;
            lastTouchY = e.touches[0].clientY;
            // Pull-to-refresh will only trigger if the scroll begins when the
            // document's Y offset is zero.
            maybePreventPullToRefresh =
                    preventPullToRefreshCheckbox.checked &&
                    window.pageYOffset == 0;
        }

        var touchmoveHandler = function(e) {
            var touchY = e.touches[0].clientY;
            var touchYDelta = touchY - lastTouchY;
            lastTouchY = touchY;

            if (maybePreventPullToRefresh) {
                // To suppress pull-to-refresh it is sufficient to preventDefault the
                // first overscrolling touchmove.
                maybePreventPullToRefresh = false;
                if (touchYDelta > 0) {
                    e.preventDefault();
                    return;
                }
            }

        }

        document.addEventListener('touchstart', touchstartHandler, false);
        document.addEventListener('touchmove', touchmoveHandler, false);
    });

</script>
</body>
</html>